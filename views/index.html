<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>egghead</title>
    <script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>
    <link href="//cdn.bootcss.com/bootstrap/4.0.0-alpha.5/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<div class="row" style="margin-top: 50px">
    <div class="col-md-3"></div>
    <div class="col-md-6">
        <h3 style="margin-bottom: 30px">egghead download url</h3>
        <input type="text" class="form-control" id="tv_link" placeholder="请输入egghead链接"></br>
        <button type="button" class="btn btn-primary" onclick="getData()">点击查询</button>
        <button type="button" class="btn btn-primary" onclick="downData()">下载</button>
        <button type="button" class="btn btn-primary" onclick="test()">test</button>
        <div class="jumbotron" id="main" style="margin-top: 20px">
        </div>

    </div>
    <div class="col-md-3"></div>
</div>
</div>
<script>
    //TODO: use react to implement in future!!!
    function getData(){
        var url = $("#tv_link").val(); //获取
        $.post("/getVideos",{ url: url },function(result){
            $("#main").html(result);
        });
    }
    function downData() {
        var listVal = $('#main')[0].innerHTML; //获取
        $.post("/download", {list: listVal}, function(result){
            alert('download success!')
        });
    }
    function test() {
        $.post("/test", function(result){
            alert('download success!')
        });
    }
</script>
</body>
</html>